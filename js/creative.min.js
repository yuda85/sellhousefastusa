function initMap(){var e=new google.maps.Map(document.getElementById("map"),{zoom:13,center:{lat:35.1295,lng:-90}});for(var o in citymap)new google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:e,center:citymap[o].center,radius:1.5*Math.sqrt(citymap[o].population)})}var locationInfo={geo:null,country:null,state:null,city:null,postalCode:null,street:null,streetNumber:null,reset:function(){this.geo=null,this.country=null,this.state=null,this.city=null,this.postalCode=null,this.street=null,this.streetNumber=null}};$(".fake-autofill-fields").show(),window.setTimeout(function(){$(".fake-autofill-fields").hide()},1),googleAutocomplete={autocompleteField:function(e){autocomplete=new google.maps.places.Autocomplete(document.getElementById(e)),google.maps.event.addListener(autocomplete,"place_changed",function(){var e=autocomplete.getPlace(),o=e.address_components,t=e.geometry.location.lat(),a=e.geometry.location.lng();locationInfo.reset(),locationInfo.geo=[t,a];for(var n=0;n<o.length;n++){var l=o[n].types[0];switch(l){case"country":locationInfo.country=o[n].long_name;break;case"administrative_area_level_1":locationInfo.state=o[n].long_name;break;case"locality":locationInfo.city=o[n].long_name;break;case"postal_code":locationInfo.postalCode=o[n].long_name;break;case"route":locationInfo.street=o[n].long_name;break;case"street_number":locationInfo.streetNumber=o[n].long_name}}})}},googleAutocomplete2={autocompleteField:function(e){autocomplete2=new google.maps.places.Autocomplete(document.getElementById(e)),google.maps.event.addListener(autocomplete2,"place_changed",function(){var e=autocomplete.getPlace(),o=e.address_components,t=e.geometry.location.lat(),a=e.geometry.location.lng();locationInfo.reset(),locationInfo.geo=[t,a];for(var n=0;n<o.length;n++){var l=o[n].types[0];switch(l){case"country":locationInfo.country=o[n].long_name;break;case"administrative_area_level_1":locationInfo.state=o[n].long_name;break;case"locality":locationInfo.city=o[n].long_name;break;case"postal_code":locationInfo.postalCode=o[n].long_name;break;case"route":locationInfo.street=o[n].long_name;break;case"street_number":locationInfo.streetNumber=o[n].long_name}}})}},$("#address").focus(function(){googleAutocomplete.autocompleteField("address")});var citymap={losangeles:{center:{lat:35.1295,lng:-90},population:5e7}};(function(e){"use strict";function o(o,t,a,n,l){e.ajax({type:"POST",url:"sendlead.php",data:"email="+o+"&name="+t+"&address="+a+"&tel="+n,cache:!1,success:function(e){console.log("success"),l()}}),console.log("success sendlead")}function t(){}function a(){googleAutocomplete2.autocompleteField("address-pop"),e(s).toggleClass("expand"),e(s).children().toggleClass("expand"),e("body").toggleClass("show-form-overlay"),e(".form-submitted").removeClass("form-submitted")}function n(e){var o=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return o.test(e)}e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var o=e(this.hash);if(o=o.length?o:e("[name="+this.hash.slice(1)+"]"),o.length)return e("html, body").animate({scrollTop:o.offset().top-72},1e3,"easeInOutExpo"),!1}}),e(".js-scroll-trigger").click(function(){e(".navbar-collapse").collapse("hide")}),e("body").scrollspy({target:"#mainNav",offset:75});var l=function(){e("#mainNav").offset().top>50?e("#mainNav").addClass("navbar-scrolled"):e("#mainNav").removeClass("navbar-scrolled")};l(),e(window).scroll(l);e('[data-toggle="tooltip"]').tooltip();var s=e("#form-container");t(),e(".form-opener").on("click",function(){a()}),e("#form-container").click(function(){e(this).hasClass("expand")||a()}),e("#form-close, .form-overlay").click(function(e){e.stopPropagation(),e.preventDefault(),a(),t()}),e("#contact").parsley(),e("form").submit(function(){var t=e(this);t.find(".form-error").removeClass("form-error");var a=!1;if(t.find(".input").each(function(){return""==e(this).val()?(e(this).addClass("form-error"),e(this).select(),a=!0,!1):e(this).hasClass("email")&&!n(e(this).val())?(e(this).addClass("form-error"),e(this).select(),a=!0,!1):void 0}),!a){e("body").addClass("form-submitted"),e("#form-head").addClass("form-submitted");var l=encodeURI(t.find("input.name").val()),s=encodeURI(t.find("input.email").val()),u=encodeURI(t.find("input.address").val()),c=encodeURI(t.find("input.number").val()),r=window.location,i=r.protocol+"//"+r.host+"/step2/?name="+l+"&email="+s+"&address="+u+"&tel="+c;o(s,l,u,c,function(){e(t).trigger("reset"),window.location.href=i}),e(".thankyou-container").fadeIn(),t.hasClass("hero-form")&&t.find(".contact-submit").text("...Sending")}return!1}),initMap()})(jQuery);